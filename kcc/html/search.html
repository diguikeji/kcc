<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
		<title>搜索</title>
		<link rel="stylesheet" href="../css/mui.min.css">
		<link rel="stylesheet" href="../css/app.css">

		<style type="text/css">

			body{
				background: #fff;
			}
			.search-col{padding:0.05rem 55px 0 15px;}
			.search-col input{height:32px;border:0;box-sizing: border-box;padding-left:0.3rem;border:1px solid #eee;border-radius: 4px;text-align:left;}
			.search-col .right{position: absolute;right:0;width:55px;text-align: center;line-height: 38px;color:#999;top:0;}
			.search-col .left{position: absolute;left:0.2rem;top:0.1rem;color:#999;}

			.shuohua{width:0.5rem;font-size:0.12rem;color:#999;position: absolute;top:40%;left:50%;margin-left:-0.25rem;}
			.shuohua img{width:0.15rem;}
			.shuohua span{width:0.5rem;display: inline-block;text-align: center;height: 0.5rem;background: #f1f1f1;border-radius: 50%;padding-top:0.18rem;box-sizing: border-box;}

		</style>
	</head>
	<body>


	<div class="search-col">
		<span class="mui-icon mui-icon-search left"></span>
		<input id="search" class="mui-input-speech" type="search" />
		<span class="right" onclick="mui.back()">取消</span>
	</div>

	<div class="shuohua" onclick="startRecognize();">
		<span><img src="../images/icon/tab_home_voice@2x.png"/></span>
		<div>按住说话</div>
	</div>
		

	</body>
	<script type="text/javascript" src="../js/mui.min.js"></script>
	<script src="../js/jquery-2.1.1.min.js"></script>
	<script src="../js/app.js"></script>
	<script src="../js/myStorage.js"></script>
	<script type="text/javascript">




		//  语音输入
		var text = null;

		function startRecognize() {
			var options = {};
			options.engine = 'iFly';
			options.punctuation = false; // 是否需要标点符号
			text = "";
			console.log("开始语音识别：");
			plus.speech.startRecognize(options, function(s) {
				console.log(s);
				text += s;
				document.getElementById('search').value = text;
			}, function(e) {
				console.log("语音识别失败：" + e.message);
				//alert("语音识别失败：" + e.message);
			});
			setTimeout(stopRecognize, 10000);
		}
		//  停止语音输入
		function stopRecognize() {
			plus.speech.stopRecognize();
		}

		
	</script>
</html>
